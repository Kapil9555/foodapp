"use strict";(()=>{var e={};e.id=6683,e.ids=[6683],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},73292:e=>{e.exports=require("fs/promises")},33048:(e,a,t)=>{t.r(a),t.d(a,{headerHooks:()=>h,originalPathname:()=>v,requestAsyncStorage:()=>c,routeModule:()=>g,serverHooks:()=>f,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>w});var o={};t.r(o),t.d(o,{GET:()=>GET,POST:()=>POST}),t(95655);var r=t(83323),s=t(54647),n=t(27454),i=t(59465),p=t(66886),u=t(73292),l=t.n(u);let GET=async e=>{try{await (0,n.Z)();let e=await i.Z.find();if(e.length>0)return p.Z.json({message:"All Data Fetched",resp:e},{status:200});return p.Z.json({message:"No Data Found"},{status:200})}catch(e){return console.log(e),p.Z.json({message:"Internal Server Error"},{status:500})}},POST=async e=>{try{await (0,n.Z)();let a=await e.formData(),t=a.get("image");if(!t)return p.Z.json({message:"Send Image Properly"},{status:200});{let e=await t.arrayBuffer(),o=await Buffer.from(await e),r=Date.now()+t.name.replaceAll(" ","_"),s=process.cwd()+"/public/uploads/"+r;await l().writeFile(s,o);let n={shopName:a.get("shopName"),foodType:a.get("foodType"),image:r,offerPercentage:a.get("offerPercentage"),foodForCost:a.get("foodForCost"),foodForMany:a.get("foodForMany"),deliverIn:a.get("deliverIn"),mobOnShop:a.get("mobOnShop"),emailOnShop:a.get("emailOnShop"),shopAddress:a.get("shopAddress")},u=(0,i.Z)({...n}),d=await u.save();if(d)return p.Z.json({message:"Shop Created Successfully",resp:d},{status:201});return p.Z.json({message:"Failed To Create",resp:d},{status:200})}}catch(e){return console.log(e),p.Z.json({message:"Internal server error"},{status:500})}},d=r.AppRouteRouteModule,g=new d({definition:{kind:s.x.APP_ROUTE,page:"/api/shop/route",pathname:"/api/shop",filename:"route",bundlePath:"app/api/shop/route"},resolvedPagePath:"/home/kapil/Desktop/adel social projects/adelsocial/app/api/shop/route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:f,headerHooks:h,staticGenerationBailout:w}=g,v="/api/shop/route"}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[7882,9727,177,6981,9465],()=>__webpack_exec__(33048));module.exports=t})();