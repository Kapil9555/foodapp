"use strict";(()=>{var e={};e.id=5252,e.ids=[5252],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},73292:e=>{e.exports=require("fs/promises")},54611:(e,a,t)=>{t.r(a),t.d(a,{headerHooks:()=>w,originalPathname:()=>v,requestAsyncStorage:()=>c,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>f});var r={};t.r(r),t.d(r,{POST:()=>POST}),t(95655);var o=t(83323),i=t(54647),s=t(27454),n=t(13234),u=t(73292),l=t.n(u),p=t(66886);let POST=async e=>{await (0,s.Z)();try{let a=await e.formData(),t=a.get("image");if(!t)return p.Z.json({message:"Send Image Properly"},{status:200});{let e=await t.arrayBuffer(),r=await Buffer.from(await e),o=Date.now()+t.name.replaceAll(" ","_"),i=process.cwd()+"/public/uploads/"+o;await l().writeFile(i,r);let s={name:a.get("catName"),image:o,mid:a.get("mid")},u=(0,n.Z)({...s}),d=await u.save();if(d)return p.Z.json({message:"Category Created Successfully"},{status:201});return p.Z.json({message:"Failed To Create Category"},{status:200})}}catch(e){return console.log(e),p.Z.json({message:"Internal Server Error"},{status:500})}},d=o.AppRouteRouteModule,m=new d({definition:{kind:i.x.APP_ROUTE,page:"/api/category/route",pathname:"/api/category",filename:"route",bundlePath:"app/api/category/route"},resolvedPagePath:"/home/kapil/Desktop/adel social projects/adelsocial/app/api/category/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:g,serverHooks:y,headerHooks:w,staticGenerationBailout:f}=m,v="/api/category/route"},13234:(e,a,t)=>{t.d(a,{Z:()=>n});var r=t(11185),o=t.n(r);let i=new(o()).Schema({name:{type:String,required:!0},image:{type:String,required:!0},isAvailable:{type:Boolean,required:!1,default:!1},mid:{type:String,required:!0}},{timestamps:!0}),s=o().models.Categorie||new(o()).model("Categorie",i),n=s}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[7882,9727,177,6981],()=>__webpack_exec__(54611));module.exports=t})();