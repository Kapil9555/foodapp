"use strict";(()=>{var e={};e.id=5346,e.ids=[5346],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},95164:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>y,originalPathname:()=>f,requestAsyncStorage:()=>g,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>p,staticGenerationBailout:()=>_});var r={};a.r(r),a.d(r,{DELETE:()=>DELETE,PATCH:()=>PATCH}),a(95655);var i=a(83323),s=a(54647),o=a(27454),l=a(13234),n=a(97355),d=a(66886);let DELETE=async(e,{params:t})=>{await (0,o.Z)(),console.log("params",t.cid);try{let e=await l.Z.findOne({_id:t.cid});if(e){let t=await n.Z.find({cid:e._id});if(t.length>0){let t=await n.Z.deleteMany({cid:e._id});if(t){let t=await l.Z.deleteOne({_id:e._id});if(t)return d.Z.json({message:"Category Deleted Successfully"},{status:200});return d.Z.json({message:"Failed To Delete Category"},{status:200})}console.log("Failed To Delete Items")}if(0==t.length){let t=await l.Z.deleteOne({_id:e._id});if(t)return d.Z.json({message:"Category Deleted Successfully"},{status:200});return d.Z.json({message:"Failed To Delete Category"},{status:200})}}if(!e)return d.Z.json({message:"Failed To Delete Category"},{status:200})}catch(e){return console.log(e),d.Z.json({message:"Internal Server Error"},{status:500})}},PATCH=async(e,{params:t})=>{await (0,o.Z)();try{let a=await e.json(),r=await l.Z.findOneAndUpdate({_id:t.cid},{isAvailable:a.isAvailable},{new:!0});if(r)return d.Z.json({message:"Edited Successfully"});return d.Z.json({message:"Failed To Edit"})}catch(e){console.log(e),d.Z.json({message:"Internal Server Error"},{status:500})}},u=i.AppRouteRouteModule,c=new u({definition:{kind:s.x.APP_ROUTE,page:"/api/deletecategory/[cid]/route",pathname:"/api/deletecategory/[cid]",filename:"route",bundlePath:"app/api/deletecategory/[cid]/route"},resolvedPagePath:"/home/kapil/Desktop/adel social projects/adelsocial/app/api/deletecategory/[cid]/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:p,serverHooks:m,headerHooks:y,staticGenerationBailout:_}=c,f="/api/deletecategory/[cid]/route"},13234:(e,t,a)=>{a.d(t,{Z:()=>l});var r=a(11185),i=a.n(r);let s=new(i()).Schema({name:{type:String,required:!0},image:{type:String,required:!0},isAvailable:{type:Boolean,required:!1,default:!1},mid:{type:String,required:!0}},{timestamps:!0}),o=i().models.Categorie||new(i()).model("Categorie",s),l=o}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[7882,9727,177,6981,7355],()=>__webpack_exec__(95164));module.exports=a})();