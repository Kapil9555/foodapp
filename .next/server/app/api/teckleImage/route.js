"use strict";(()=>{var e={};e.id=651,e.ids=[651],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},73292:e=>{e.exports=require("fs/promises")},51138:(e,a,t)=>{t.r(a),t.d(a,{headerHooks:()=>v,originalPathname:()=>_,requestAsyncStorage:()=>f,routeModule:()=>w,serverHooks:()=>k,staticGenerationAsyncStorage:()=>S,staticGenerationBailout:()=>y});var r={};t.r(r),t.d(r,{GET:()=>GET,POST:()=>POST}),t(95655);var s=t(83323),i=t(54647),o=t(27454),n=t(66886),l=t(73292),u=t.n(l),m=t(11185),c=t.n(m);let p=new(c()).Schema({name:{type:String,required:!0,trim:!0},email:{type:String,required:!0,trim:!0},image:{type:String,required:!0,trim:!0}}),d=c().models.ImgData||c().model("ImgData",p),POST=async e=>{await (0,o.Z)();try{let a=await e.formData(),t=a.get("image");if(t){let e=await t.arrayBuffer(),r=await Buffer.from(await e),s=Date.now()+t.name.replaceAll(" ","_"),i=process.cwd()+"/public/uploads/"+s;await u().writeFile(i,r);let o={name:a.get("name"),email:a.get("email"),image:s},l=d(o),m=await l.save();if(m)return n.Z.json({message:"ImageData Saved Successfully"},{status:201});return n.Z.json({message:"Failed To Saved Image data"},{status:200})}}catch(e){return console.log(e),n.Z.json("Internal Server Error")}},GET=async e=>{await (0,o.Z)();try{let e=await d.find();if(0!=e.length)return n.Z.json({message:"Fetched Data Successfully",resp:e},{status:200});return n.Z.json({message:"No Data Found"},{status:200})}catch(e){return console.log(e),n.Z.json({message:"Internal Server Error"},{status:500})}},g=s.AppRouteRouteModule,w=new g({definition:{kind:i.x.APP_ROUTE,page:"/api/teckleImage/route",pathname:"/api/teckleImage",filename:"route",bundlePath:"app/api/teckleImage/route"},resolvedPagePath:"/home/kapil/Desktop/adel social projects/adelsocial/app/api/teckleImage/route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:f,staticGenerationAsyncStorage:S,serverHooks:k,headerHooks:v,staticGenerationBailout:y}=w,_="/api/teckleImage/route"}};var a=require("../../../webpack-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),t=a.X(0,[7882,9727,177,6981],()=>__webpack_exec__(51138));module.exports=t})();