(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5310],{3326:function(e,t,s){Promise.resolve().then(s.bind(s,6461))},6461:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return page}});var l=s(7437),n=s(4982),i=s(9872),a=s(8874),r=s(3226),o=s(2375),c=s(4081),x=s(657),d=s(4142),h=s(9245),m=s(9050),p=s(9222),g=s(4033),j=s(2265),components_AdminAddNewItemModal=e=>{let{open:t,setOpen:s,params:u,fetchData:f}=e;(0,g.useRouter)();let[Z,y]=(0,j.useState)(!0),[b,C]=(0,j.useState)({name:"",cid:"",mid:"",mrp:"",srp:"",foodType:""});(0,j.useEffect)(()=>{""!=b.cid&&""!=b.name&&""!=b.mrp&&""!=b.srp&&""!=b.foodType?y(!1):y(!0)},[b]);let handleCollect=e=>{let{name:t,value:s}=e.target;C({...b,[t]:s,cid:u.cid,mid:u.mid})},handleAddCategory=async()=>{try{let e=await p.Z.post("/api/item",b);console.log("response api",e),"Item Added Successfully"==e.data.message&&(f(),C({name:"",cid:"",mid:"",mrp:"",srp:"",foodType:""}),s(!1))}catch(e){console.log(e)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.Z,{open:t,onClose:()=>{s(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,textAlign:"center",height:"fit-content",bgcolor:"white"},children:(0,l.jsxs)(a.ZP,{container:!0,children:[(0,l.jsx)(a.ZP,{item:!0,xs:12,sx:{mb:"45px"},children:(0,l.jsx)(r.Z,{align:"center",sx:{bgcolor:"black",color:"white",p:"10px",fontSize:"14px",fontWeight:"700"},children:" Add New"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"Item Name:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{sx:{height:"30px"},name:"name",value:b.name,fullWidth:!0,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"M.R.P:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{sx:{height:"30px"},type:"number",name:"mrp",value:b.mrp,fullWidth:!0,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"S.R.P:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{sx:{height:"30px"},type:"number",name:"srp",value:b.srp,fullWidth:!0,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"Food Type:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(c.Z,{fullWidth:!0,size:"small",children:(0,l.jsxs)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:b.foodType,name:"foodType",onChange:handleCollect,children:[(0,l.jsx)(d.Z,{value:"Veg",children:"Veg"}),(0,l.jsx)(d.Z,{value:"Non Veg",children:"Non Veg"}),(0,l.jsx)(d.Z,{value:"Both",children:"Both"})]})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"17px"},children:"Image:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"10px",display:"flex",alignItems:"center"},children:(0,l.jsx)(h.Z,{sx:{height:"30px",width:"100%"},children:(0,l.jsxs)(r.Z,{align:"center",sx:{position:"relative",top:"0px",mt:"4px",border:"1px solid gray"},children:[(0,l.jsx)("input",{type:"file",style:{zIndex:99,opacity:0,position:"absolute",left:"0px",top:"0px",height:"30px",width:"100%"}}),"Choose Image"]})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:(0,l.jsx)(m.Z,{variant:"contained",disabled:Z,sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"}},onClick:handleAddCategory,children:"Add Product"})})]})})})})},u=s(305),f=s(3474),Z=s(1608),y=s(8938),b=s(3701),C=s(6988),P=s(8489),S=s(666),I=s(9279),v=s(6882),w=s(1469),k=s(4346),z=s(6691),A=s.n(z),W=s(2582),D=s(7),AminEditItemDetails=e=>{let{editModal:t,setErrorSnack:s,setCustomSnack:u,setEditModal:f,fetchData:Z}=e;(0,g.useRouter)();let[y,b]=(0,j.useState)(!1),[C,P]=(0,j.useState)(!0),handleCollect=e=>{let{name:s,value:l,checked:n}=e.target;"isAvailable"==s||"isPopular"==s?f({...t,data:{...t.data,[s]:n}}):f({...t,data:{...t.data,[s]:l}})},handleEdit=async()=>{b(!0);try{let e=await p.Z.patch("/api/item/".concat(t.data._id),t.data);console.log(e),"Details Updated Successfully"==e.data.message?(Z(),f({...t,open:!1}),u({open:!0,message:e.data.message})):(console.log(e.data.message),f({...t,open:!1}),s({open:!0,message:e.data.message})),b(!1)}catch(e){console.log(e.message)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.Z,{open:t.open,onClose:()=>{f({...t,open:!1})},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(i.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,textAlign:"center",height:"fit-content",bgcolor:"white"},children:(0,l.jsxs)(a.ZP,{container:!0,children:[(0,l.jsx)(a.ZP,{item:!0,xs:12,sx:{mb:"45px"},children:(0,l.jsx)(r.Z,{align:"center",sx:{bgcolor:"black",color:"white",p:"10px",fontSize:"14px",fontWeight:"700"},children:" Add New"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"Item Name:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{sx:{height:"30px"},name:"name",value:t.data.name,fullWidth:!0,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"M.R.P:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{sx:{height:"30px"},type:"number",name:"mrp",value:t.data.mrp,fullWidth:!0,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"S.R.P:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{sx:{height:"30px"},type:"number",name:"srp",value:t.data.srp,fullWidth:!0,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"Food Type:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(c.Z,{fullWidth:!0,size:"small",children:(0,l.jsxs)(x.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.data.foodType,name:"foodType",onChange:handleCollect,children:[(0,l.jsx)(d.Z,{value:"Veg",children:"Veg"}),(0,l.jsx)(d.Z,{value:"Non Veg",children:"Non Veg"}),(0,l.jsx)(d.Z,{value:"Both",children:"Both"})]})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:7,sx:{pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"IsPopular:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:5,sx:{display:"flex",alignItems:"center",justifyContent:"left"},children:(0,l.jsx)(W.Z,{sx:{p:"0px",all:"unset"},children:(0,l.jsx)(D.Z,{control:(0,l.jsx)(w.Z,{name:"isPopular",checked:t.data.isPopular,color:"success",onChange:handleCollect})})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:7,sx:{pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"14px"},children:"IsAvailable:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:6,lg:5,sx:{display:"flex",alignItems:"center",justifyContent:"left"},children:(0,l.jsx)(W.Z,{sx:{p:"0px",all:"unset"},children:(0,l.jsx)(D.Z,{control:(0,l.jsx)(w.Z,{name:"isAvailable",checked:t.data.isAvailable,color:"success",onChange:handleCollect})})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"17px"},children:"Ratings: "})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,l.jsx)(o.Z,{type:"number",sx:{height:"30px",width:"100%"},name:"ratings",value:t.data.ratings,onChange:handleCollect})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(r.Z,{sx:{fontSize:"17px"},children:"Image:"})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"10px",display:"flex",alignItems:"center"},children:(0,l.jsx)(h.Z,{sx:{height:"30px",width:"100%"},children:(0,l.jsxs)(r.Z,{align:"center",sx:{position:"relative",top:"0px",mt:"4px",border:"1px solid gray"},children:[(0,l.jsx)("input",{type:"file",disabled:!0,style:{zIndex:99,opacity:0,position:"absolute",left:"0px",top:"0px",height:"30px",width:"100%"}}),"Choose Image"]})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:!0==y?(0,l.jsx)(v.Z,{size:"1.7rem",color:"inherit"}):(0,l.jsx)(m.Z,{variant:"contained",sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"}},onClick:handleEdit,children:"Edit Product"})})]})})})})},page=()=>{let e=(0,g.useRouter)(),t=(0,g.useParams)(),[s,n]=(0,j.useState)([]),[o,c]=(0,j.useState)(!1),[x,d]=(0,j.useState)(!1),[z,W]=(0,j.useState)({open:!1,message:""}),[D,N]=(0,j.useState)({open:!1,message:""}),[E,_]=(0,j.useState)(""),[R,T]=(0,j.useState)({open:!1,data:{}}),handleNavigateCat=()=>{e.push("/admin/adminitemdetails")},fetchData=async()=>{try{let e=await p.Z.get("/api/item/".concat(t.cid));"Fetched Successfully"==e.data.message&&(n(e.data.resp),d(!1),_("")),"No Data Found"==e.data.message&&d(!0)}catch(e){console.log(e),alert(e)}},handleDelete=async e=>{try{let t=await p.Z.delete("/api/deleteitem/".concat(e));"Item Deleted Successfully"==t.data.message?(fetchData(),W({open:!0,message:t.data.message})):N({open:!0,message:t.data.message})}catch(e){console.log(e),alert(e)}},checkEventHandler=async(e,t)=>{_(t);let{checked:s}=e.target,l=await p.Z.patch("/api/deleteitem/".concat(t),{isAvailable:s});"Edited Successfully"==l.data.message?(fetchData(),W({open:!0,message:l.data.message})):(N({open:!0,message:l.data.message}),_(""))},handleEditDetail=e=>{console.log("id check",e),T({...R,open:!0,data:e})};return(0,j.useEffect)(()=>{fetchData()},[]),(0,l.jsxs)(y.Z,{maxWidth:"xl",disableGutters:!0,children:[(0,l.jsx)(a.ZP,{container:!0,sx:{height:"80px",bgcolor:"black",alignItems:"center",width:"100%"},children:(0,l.jsx)(a.ZP,{item:!0,xs:12,children:(0,l.jsx)(r.Z,{sx:{fontSize:"30px",fontWeight:"900",color:"white"},children:"Admin DashBoard"})})}),(0,l.jsxs)(a.ZP,{container:!0,children:[(0,l.jsx)(a.ZP,{item:!0,xs:12,children:(0,l.jsx)(h.Z,{sx:{p:"15px",bgcolor:"#e0e0e0"},children:(0,l.jsx)(r.Z,{align:"center",sx:{fontSize:"25px",fontWeight:"900",color:"black",cursor:"pointer"},children:"All Items"})})}),(0,l.jsx)(a.ZP,{item:!0,xs:12,sx:{p:"15px"},children:(0,l.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"right"},children:[(0,l.jsx)(m.Z,{sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"},fontSize:"14px",fontWeight:"600"},onClick:()=>{c(!0)},children:"add new item"}),(0,l.jsx)(components_AdminAddNewItemModal,{open:o,setOpen:c,params:t,fetchData:fetchData})]})})]}),(0,l.jsx)(h.Z,{sx:{overflow:"auto"},children:x?(0,l.jsx)(a.ZP,{container:!0,sx:{},children:(0,l.jsx)(a.ZP,{item:!0,xs:12,sx:{height:"70vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,l.jsxs)(h.Z,{sx:{position:"relative",height:"200px",width:"300px"},children:[(0,l.jsx)(A(),{src:k.Z,alt:"no data",style:{height:"100%",width:"100%",position:"absolute"}}),(0,l.jsx)(r.Z,{align:"center",sx:{mt:"200px"},children:"No Data!"})]})})}):0==s.length?(0,l.jsx)(Z.Z,{tableHead:["S.N","Item Name","Is Available","M.R.P","S.R.P","Action"]}):(0,l.jsx)(b.Z,{container:"true",component:i.Z,children:(0,l.jsxs)(b.Z,{"aria-label":"sticky table",children:[(0,l.jsx)(C.Z,{children:(0,l.jsxs)(P.Z,{sx:{backgroundColor:"black"},children:[(0,l.jsx)(S.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"S.N"}),(0,l.jsx)(S.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"Item Name"}),(0,l.jsx)(S.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"Is Available"}),(0,l.jsx)(S.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"M.R.P"}),(0,l.jsx)(S.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"S.R.P"}),(0,l.jsx)(S.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"Action"})]})}),(0,l.jsx)(I.Z,{children:s.map((e,t)=>(0,l.jsxs)(P.Z,{children:[(0,l.jsx)(S.Z,{align:"center",sx:{cursor:"pointer"},children:t}),(0,l.jsx)(S.Z,{align:"center",sx:{cursor:"pointer"},onClick:handleNavigateCat,children:e.name}),(0,l.jsx)(S.Z,{align:"center",sx:{cursor:"pointer"},children:E==e._id?(0,l.jsx)(v.Z,{color:"inherit",size:"2.2rem"}):(0,l.jsx)(w.Z,{checked:e.isAvailable,color:"success",onChange:t=>{checkEventHandler(t,e._id)}})}),(0,l.jsx)(S.Z,{align:"center",sx:{cursor:"pointer",color:"red"},children:e.mrp}),(0,l.jsx)(S.Z,{align:"center",sx:{cursor:"pointer",color:"green"},children:e.srp}),(0,l.jsx)(S.Z,{align:"center",sx:{cursor:"pointer"},children:(0,l.jsxs)(h.Z,{sx:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"},children:[(0,l.jsx)(m.Z,{variant:"contained",sx:{bgcolor:"black","&:hover":{bgcolor:"black"},p:"3px 0px",fontSize:"12px",mt:"5px"},onClick:()=>{handleEditDetail(e)},children:"edit"}),(0,l.jsx)(m.Z,{variant:"contained",sx:{bgcolor:"red","&:hover":{bgcolor:"red"},p:"3px 0px",fontSize:"12px",mt:"5px"},onClick:()=>{handleDelete(e._id)},children:"delete"})]})})]},t))})]})})}),(0,l.jsx)(AminEditItemDetails,{editModal:R,fetchData:fetchData,setEditModal:T,setErrorSnack:N,setCustomSnack:W}),(0,l.jsx)(u.Z,{customSnack:z,setCustomSnack:W}),(0,l.jsx)(f.Z,{errorSnack:D,setErrorSnack:N})]})}},305:function(e,t,s){"use strict";var l=s(7437),n=s(7292),i=s(9804);s(2265),t.Z=e=>{let{customSnack:t,setCustomSnack:s}=e,handleClose=(e,l)=>{"clickaway"!==l&&s({...t,open:!1})};return(0,l.jsx)(n.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3,onClose:handleClose,children:(0,l.jsx)(i.Z,{onClose:handleClose,severity:"success",sx:{width:"100%"},children:t.message})})}},3474:function(e,t,s){"use strict";var l=s(7437),n=s(7292),i=s(9804);s(2265),t.Z=e=>{let{errorSnack:t,setErrorSnack:s}=e,handleClose=(e,l)=>{"clickaway"!==l&&s({...t,open:!1})};return(0,l.jsx)(n.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3,onClose:handleClose,children:(0,l.jsx)(i.Z,{onClose:handleClose,severity:"error",children:t.message})})}},1608:function(e,t,s){"use strict";var l=s(7437),n=s(3701),i=s(9872),a=s(6988),r=s(8489),o=s(666),c=s(9279),x=s(1898);s(2265),t.Z=e=>{let{tableHead:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.Z,{container:"true",component:i.Z,children:(0,l.jsxs)(n.Z,{"aria-label":"sticky table",children:[(0,l.jsx)(a.Z,{children:(0,l.jsx)(r.Z,{sx:{backgroundColor:"black"},children:t.map((e,t)=>(0,l.jsx)(o.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:e},t))})}),(0,l.jsx)(c.Z,{children:[,,,,,].fill(1).map((e,s)=>(0,l.jsx)(r.Z,{children:t.map((e,t)=>(0,l.jsx)(o.Z,{align:"center",sx:{cursor:"pointer",p:"2px"},children:(0,l.jsx)(x.Z,{sx:{height:"70px",width:"90%"}})},t))},s))})]})})})}},4346:function(e,t){"use strict";t.Z={src:"/_next/static/media/nodata2.bd7acd98.gif",height:600,width:800,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[7368,6659,3559,8874,1228,6691,725,877,4532,657,3221,4674,2987,5963,2971,7864,1744],function(){return e(e.s=3326)}),_N_E=e.O()}]);