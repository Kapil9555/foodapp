(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8718],{1400:function(e,t,i){Promise.resolve().then(i.bind(i,7342))},7342:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return page}});var l=i(7437),s=i(4982),a=i(9872),n=i(9245),r=i(3226),o=i(8938),c=i(8874),d=i(6882),h=i(9050),x=i(1975),A=i(9222),m=i(2265),components_AdminAddNewUserModal=e=>{let{open:t,setOpen:i,mid:u,fetchData:p,errorSnack:g,setErrorSnack:Z,customSnack:f,setCustomSnack:j}=e,[b,C]=(0,m.useState)(!0),[w,y]=(0,m.useState)({fullName:"",email:"",mobile:"",password:""}),[S,v]=(0,m.useState)(!1),handleCollect=e=>{let{name:t,value:i}=e.target;"mobile"==t&&i.length>10||y({...w,[t]:i})};(0,m.useEffect)(()=>{w.fullName&&w.email&&w.mobile.length<11&&w.mobile.length>9&&w.password.length>7?C(!1):C(!0)},[w]);let handleSubmit=async()=>{v(!0);try{let e=await A.Z.post("/api/user",w);"This Mobile No. is Already Registered"==e.data.message&&(Z({...g,message:e.data.message,open:!0}),v(!1),i(!1)),"User Registered Successfully"==e.data.message&&(i(!1),p(),v(!1),j({...f,open:!0,message:e.data.message}),y({fullName:"",email:"",mobile:"",password:""}))}catch(e){console.log(e),alert(e.message)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{open:t,onClose:()=>{i(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsxs)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,textAlign:"center",bgcolor:"white"},children:[(0,l.jsx)(n.Z,{sx:{p:"8px",backgroundColor:"#37474f",position:"sticky",top:"0px"},children:(0,l.jsx)(r.Z,{align:"center",sx:{color:"white",fontSize:"25px",fontWeight:700},children:"Add New User"})}),(0,l.jsx)(o.Z,{disableGutters:!0,maxWidth:"xs",children:(0,l.jsx)(n.Z,{sx:{marginTop:6,display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"5px",p:"5px"},children:(0,l.jsxs)(n.Z,{component:"form",noValidate:!0,onSubmit:handleSubmit,sx:{mt:3},children:[(0,l.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{autoComplete:"given-name",name:"fullName",required:!0,fullWidth:!0,id:"fullname",label:"Full Name",autoFocus:!0,value:w.fullName,onChange:handleCollect})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{required:!0,fullWidth:!0,id:"mobile",label:"Mobile",name:"mobile",type:"number",autoComplete:"mobile",value:w.mobile,onChange:handleCollect})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:w.email,onChange:handleCollect})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",value:w.password,onChange:handleCollect})}),(0,l.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,l.jsx)(r.Z,{align:"center",sx:{fontSize:"15px"},children:"Image"}),(0,l.jsx)(n.Z,{sx:{height:"30px",width:"100%"},children:(0,l.jsxs)(r.Z,{align:"center",sx:{position:"relative",top:"0px",mt:"4px",border:"1px solid gray"},children:[(0,l.jsx)("input",{type:"file",style:{zIndex:99,opacity:0,position:"absolute",left:"0px",top:"0px",height:"30px",width:"100%"}}),"Choose Image"]})})]})]}),(0,l.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center"},children:S?(0,l.jsx)(d.Z,{size:20}):(0,l.jsx)(h.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:b,onClick:handleSubmit,children:"Submit"})})]})})})]})})})},u=i(2582),p=i(7),g=i(1469),Z=i(6691),f=i.n(Z);i(9131);var components_EditUserDetails=e=>{let{editUserOpen:t,setEditUserOpen:i,fetchData:o,setCustomSnack:Z,customSnack:f}=e,[j,b]=(0,m.useState)({fullName:"",mobile:"",email:"",isActive:!1}),[C,w]=(0,m.useState)({loading:!1,isDisabled:!0}),handleCollect=e=>{let{name:i,value:l}=e.target,s=e.target.checked;"isActive"==i?b({...j,[i]:e.target.checked}):b({...j,[i]:l}),l!=t.details[i]&&s!=t.details[i]?w({...C,isDisabled:!1}):w({...C,isDisabled:!0})};(0,m.useEffect)(()=>{b({...j,fullName:t.details.fullName,mobile:t.details.mobile,email:t.details.email,isActive:t.details.isActive})},[t.details]);let handleSubmit=async()=>{w({...C,loading:!0});try{if(""!=j.fullName&&""!=j.mobile&&""!=j.email){let e=await A.Z.patch("/api/edituserdetails/".concat(t.details._id),{fullName:j.fullName,mobile:j.mobile,email:j.email,isActive:j.isActive});"Details Edited Successfully"==e.data.message&&(Z({...f,open:!0,message:e.data.message}),o(),i({...t,open:!1}),w({...C,isDisabled:!0,loading:!1})),"Failed To Edit Details"==e.data.message&&(alert(e.data.message),w({...C,isDisabled:!0,loading:!1}))}else alert("Please Fill The Data Properly")}catch(e){console.log(e),alert(e.message)}};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{open:t.open,onClose:()=>{i({...t,open:!1})},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,l.jsx)(a.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,bgcolor:"white"},children:(0,l.jsxs)(n.Z,{sx:{marginTop:1,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,l.jsx)(r.Z,{component:"h1",variant:"h5",sx:{mt:"20px"},children:"User Profile"}),(0,l.jsxs)(n.Z,{sx:{mt:3},children:[(0,l.jsxs)(c.ZP,{container:!0,spacing:2,children:["all textfield giving error on build time",(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{name:"fullName",required:!0,fullWidth:!0,value:j.fullName||"",onChange:handleCollect})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{required:!0,fullWidth:!0,name:"email",value:j.email||"",onChange:handleCollect})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(x.Z,{required:!0,fullWidth:!0,name:"mobile",value:j.mobile||"",onChange:handleCollect})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(u.Z,{sx:{p:"0px",all:"unset"},children:(0,l.jsx)(p.Z,{name:"isActive",control:(0,l.jsx)(g.Z,{checked:j.isActive||!1,onChange:handleCollect})})})})]}),C.loading?(0,l.jsx)(n.Z,{sx:{display:"flex",justifyContent:"center",mt:"20px"},children:(0,l.jsx)(d.Z,{color:"inherit",size:"1.5rem"})}):(0,l.jsx)(h.Z,{type:"submit",disabled:C.isDisabled,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:handleSubmit,children:"Submit"})]})]})})})})},j=i(305),b=i(3701),C=i(6988),w=i(8489),y=i(666),S=i(9279),v=i(4033),k=i(4346),D=i(3474),N=i(1608),page=()=>{let e=(0,v.useRouter)(),t=(0,v.useParams)(),[i,s]=(0,m.useState)([]),[o,x]=(0,m.useState)(!1),[Z,W]=(0,m.useState)(""),[E,P]=(0,m.useState)(!1),[U,z]=(0,m.useState)({details:{},open:!1}),[I,B]=(0,m.useState)({open:!1,message:""}),[F,_]=(0,m.useState)({open:!1,message:""}),handleNavigateCat=t=>{e.push("/admin/adminuseraddress/".concat(t))},fetchData=async()=>{try{let e=await A.Z.get("/api/user");"Successfully Fetched"==e.data.message&&(s(e.data.resp),P(!1)),"No Data Found"==e.data.message&&P(!0)}catch(e){console.log(e)}},handleDeleteUser=async e=>{console.log(e);try{let t=await A.Z.delete("/api/deleteuser/".concat(e));"User Deleted Successfully"==t.data.message&&(fetchData(),B({...I,open:!0,message:t.data.message}))}catch(e){console.log("error message",e),alert(e.message)}},handleIsActive=async(e,t)=>{let i=e.target.checked;W(t);try{let e=await A.Z.patch("/api/userisactivecontrol/".concat(t),{isActive:i});"Updated Successfully"==e.data.message&&(fetchData(),W("")),"Failed To Update"==e.data.message&&W("")}catch(e){alert(e.message),console.log(e.message)}};(0,m.useEffect)(()=>{fetchData()},[]);let handleEditUser=e=>{z({...U,details:e,open:!0})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.ZP,{container:!0,sx:{height:"80px",bgcolor:"black",alignItems:"center",width:"100%"},children:(0,l.jsx)(c.ZP,{item:!0,xs:4,children:(0,l.jsx)(r.Z,{sx:{fontSize:"30px",fontWeight:"900",color:"white"},children:"Admin DashBoard"})})}),(0,l.jsxs)(c.ZP,{container:!0,sx:{},children:[(0,l.jsx)(c.ZP,{item:!0,xs:12,children:(0,l.jsx)(n.Z,{sx:{p:"15px",bgcolor:"#e0e0e0"},children:(0,l.jsx)(r.Z,{align:"center",sx:{fontSize:"25px",fontWeight:"900",color:"black",cursor:"pointer"},children:"All Users"})})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,sx:{p:"15px"},children:(0,l.jsxs)(n.Z,{sx:{display:"flex",justifyContent:"right"},children:[(0,l.jsx)(h.Z,{sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"},fontSize:"14px",fontWeight:"600"},onClick:()=>{x(!0)},children:"add new user"}),(0,l.jsx)(components_AdminAddNewUserModal,{open:o,setOpen:x,mid:t.adminallcategoriesdynamic,fetchData:fetchData,customSnack:I,setCustomSnack:B,errorSnack:F,setErrorSnack:_})]})}),(0,l.jsx)(c.ZP,{item:!0,xs:12,children:E?(0,l.jsx)(c.ZP,{container:!0,sx:{},children:(0,l.jsx)(c.ZP,{item:!0,xs:12,sx:{height:"70vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(n.Z,{sx:{position:"relative",height:"200px",width:"300px"},children:(0,l.jsx)(f(),{src:k.Z,alt:"no data",style:{height:"100%",width:"100%",position:"absolute"}})})})}):0==i.length?(0,l.jsx)(N.Z,{tableHead:["S.N","User Name","IsActive","Email","Mobile","Action"]}):(0,l.jsx)(b.Z,{container:"true",component:a.Z,children:(0,l.jsxs)(b.Z,{"aria-label":"sticky table",children:[(0,l.jsx)(C.Z,{children:(0,l.jsxs)(w.Z,{sx:{backgroundColor:"black"},children:[(0,l.jsx)(y.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"S.N"}),(0,l.jsx)(y.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"User Name"}),(0,l.jsx)(y.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"IsActive"}),(0,l.jsx)(y.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"Email"}),(0,l.jsx)(y.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"Mobile"}),(0,l.jsx)(y.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:"Action"})]})}),(0,l.jsx)(S.Z,{children:i.map((e,t)=>(0,l.jsxs)(w.Z,{children:[(0,l.jsx)(y.Z,{align:"center",sx:{cursor:"pointer"},children:t+1}),(0,l.jsx)(y.Z,{align:"center",sx:{cursor:"pointer"},onClick:()=>{handleNavigateCat(e._id)},children:e.fullName}),(0,l.jsx)(y.Z,{sx:{cursor:"pointer",display:"flex",justifyContent:"center"},children:Z==e._id?(0,l.jsx)(d.Z,{color:"inherit",size:"2.63rem"}):(0,l.jsx)(u.Z,{sx:{p:"0px",all:"unset"},children:(0,l.jsx)(p.Z,{control:(0,l.jsx)(g.Z,{checked:e.isActive,onChange:t=>{handleIsActive(t,e._id)}})})})}),(0,l.jsx)(y.Z,{align:"center",sx:{cursor:"pointer"},children:e.email}),(0,l.jsx)(y.Z,{align:"center",sx:{cursor:"pointer"},children:e.mobile}),(0,l.jsx)(y.Z,{align:"center",sx:{cursor:"pointer"},children:(0,l.jsxs)(n.Z,{children:[(0,l.jsx)(h.Z,{variant:"contained",sx:{bgcolor:"black","&:hover":{bgcolor:"black"},p:"3px 0px",fontSize:"12px",mr:"10px"},onClick:()=>{handleEditUser(e)},children:"edit"}),(0,l.jsx)(h.Z,{variant:"contained",sx:{bgcolor:"red","&:hover":{bgcolor:"red"},p:"3px 0px",fontSize:"12px"},onClick:()=>{handleDeleteUser(e._id)},children:"delete"})]})})]},t))})]})})}),(0,l.jsx)(components_EditUserDetails,{editUserOpen:U,setEditUserOpen:z,fetchData:fetchData,customSnack:I,setCustomSnack:B}),(0,l.jsx)(j.Z,{customSnack:I,setCustomSnack:B}),(0,l.jsx)(D.Z,{errorSnack:F,setErrorSnack:_})]})]})}},305:function(e,t,i){"use strict";var l=i(7437),s=i(7292),a=i(9804);i(2265),t.Z=e=>{let{customSnack:t,setCustomSnack:i}=e,handleClose=(e,l)=>{"clickaway"!==l&&i({...t,open:!1})};return(0,l.jsx)(s.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3,onClose:handleClose,children:(0,l.jsx)(a.Z,{onClose:handleClose,severity:"success",sx:{width:"100%"},children:t.message})})}},3474:function(e,t,i){"use strict";var l=i(7437),s=i(7292),a=i(9804);i(2265),t.Z=e=>{let{errorSnack:t,setErrorSnack:i}=e,handleClose=(e,l)=>{"clickaway"!==l&&i({...t,open:!1})};return(0,l.jsx)(s.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3,onClose:handleClose,children:(0,l.jsx)(a.Z,{onClose:handleClose,severity:"error",children:t.message})})}},1608:function(e,t,i){"use strict";var l=i(7437),s=i(3701),a=i(9872),n=i(6988),r=i(8489),o=i(666),c=i(9279),d=i(1898);i(2265),t.Z=e=>{let{tableHead:t}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.Z,{container:"true",component:a.Z,children:(0,l.jsxs)(s.Z,{"aria-label":"sticky table",children:[(0,l.jsx)(n.Z,{children:(0,l.jsx)(r.Z,{sx:{backgroundColor:"black"},children:t.map((e,t)=>(0,l.jsx)(o.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:e},t))})}),(0,l.jsx)(c.Z,{children:[,,,,,].fill(1).map((e,i)=>(0,l.jsx)(r.Z,{children:t.map((e,t)=>(0,l.jsx)(o.Z,{align:"center",sx:{cursor:"pointer",p:"2px"},children:(0,l.jsx)(d.Z,{sx:{height:"70px",width:"90%"}})},t))},i))})]})})})}},4346:function(e,t){"use strict";t.Z={src:"/_next/static/media/nodata2.bd7acd98.gif",height:600,width:800,blurWidth:0,blurHeight:0}},9131:function(e,t){"use strict";t.Z={src:"/_next/static/media/profile.7e61da81.avif",height:447,width:626,blurDataURL:"data:image/avif;base64,AAAAHGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZgAAAOptZXRhAAAAAAAAACFoZGxyAAAAAAAAAABwaWN0AAAAAAAAAAAAAAAAAAAAAA5waXRtAAAAAAABAAAAImlsb2MAAAAAREAAAQABAAAAAAEOAAEAAAAAAAAAKQAAACNpaW5mAAAAAAABAAAAFWluZmUCAAAAAAEAAGF2MDEAAAAAamlwcnAAAABLaXBjbwAAABNjb2xybmNseAACAAIABoAAAAAMYXYxQ4EADAAAAAAUaXNwZQAAAAAAAAAIAAAABgAAABBwaXhpAAAAAAMICAgAAAAXaXBtYQAAAAAAAAABAAEEgYIDhAAAADFtZGF0EgAKBRgIvWBCMh4XAAAAQD1j72gttMWygJWaPu7sgU4diUra8HOhKIA=",blurWidth:8,blurHeight:6}}},function(e){e.O(0,[7368,6659,3559,8874,1228,6691,725,877,4532,657,3221,4674,2987,4038,5443,2971,7864,1744],function(){return e(e.s=1400)}),_N_E=e.O()}]);