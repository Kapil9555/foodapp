(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7576],{9073:function(e,t,n){Promise.resolve().then(n.bind(n,7277))},7277:function(e,t,n){"use strict";n.r(t);var s=n(7437),i=n(8874),a=n(3226),o=n(9245),r=n(9050),c=n(3701),l=n(9872),h=n(6988),d=n(8489),x=n(666),p=n(9279),u=n(6882),g=n(2582),Z=n(7),j=n(1469),m=n(9222),f=n(4033),b=n(2265),k=n(4346),S=n(6691),C=n.n(S),v=n(305),w=n(3474),y=n(1608);t.default=()=>{let e=(0,f.useRouter)(),[t,n]=(0,b.useState)([]),[S,_]=(0,b.useState)(""),[D,z]=(0,b.useState)(!1),[H,N]=(0,b.useState)({open:!1,message:""}),[P,W]=(0,b.useState)({open:!1,message:""}),A=["S.N","Shop Name","Mobile","Is Available","Wallet","Action"],handleNavigateCat=t=>{e.push("/admin/adminallcategroies/".concat(t))},fetchData=async()=>{try{let e=await m.Z.get("/api/shop");"All Data Fetched"==e.data.message&&(n(e.data.resp),z(!1)),"No Data Found"==e.data.message&&z(!0)}catch(e){console.log(e)}},checkBoxHandler=async(e,t)=>{_(t);let n=await m.Z.patch("/api/shop/".concat(t),{isAvailable:e.target.checked});console.log("response is active",n),"Updated Successfully"==n.data.message&&(fetchData(),_("")),"Failed To Update"==n.data.message&&_("")},editShopHandler=t=>{e.push("admineditshop/".concat(t))},deleteShopHandler=async e=>{try{let t=await m.Z.delete("/api/deleteshop/".concat(e));"Shop Deleted Successfully"==t.data.message?(fetchData(),N({open:!0,message:t.data.message})):W({open:!0,message:t.data.message})}catch(e){console.log(e.message)}};return(0,b.useEffect)(()=>{fetchData()},[]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.ZP,{container:!0,sx:{height:"80px",bgcolor:"black",alignItems:"center",width:"100%"},children:(0,s.jsx)(i.ZP,{item:!0,xs:4,sx:{},children:(0,s.jsx)(a.Z,{sx:{fontSize:"30px",fontWeight:"900",color:"white"},children:"Admin DashBoard"})})}),(0,s.jsxs)(i.ZP,{container:!0,sx:{},children:[(0,s.jsx)(i.ZP,{item:!0,xs:12,children:(0,s.jsx)(o.Z,{sx:{p:"15px",bgcolor:"#e0e0e0"},children:(0,s.jsx)(a.Z,{align:"center",sx:{fontSize:"25px",fontWeight:"900",color:"black",cursor:"pointer"},children:"All Shops"})})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,sx:{p:"15px"},children:(0,s.jsx)(o.Z,{sx:{display:"flex",justifyContent:"right"},children:(0,s.jsx)(r.Z,{sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"},fontSize:"14px",fontWeight:"600"},onClick:()=>{e.push("/admin/adminaddnewshop")},children:"add new shop"})})}),(0,s.jsx)(i.ZP,{item:!0,xs:12,children:D?(0,s.jsx)(i.ZP,{container:!0,sx:{},children:(0,s.jsx)(i.ZP,{item:!0,xs:12,sx:{height:"70vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)(o.Z,{sx:{position:"relative",height:"200px",width:"300px"},children:(0,s.jsx)(C(),{src:k.Z,alt:"no data",style:{height:"100%",width:"100%",position:"absolute"}})})})}):0==t.length?(0,s.jsx)(y.Z,{tableHead:A}):(0,s.jsx)(c.Z,{container:"true",component:l.Z,children:(0,s.jsxs)(c.Z,{"aria-label":"sticky table",children:[(0,s.jsx)(h.Z,{children:(0,s.jsx)(d.Z,{sx:{backgroundColor:"black"},children:A.map(e=>(0,s.jsx)(x.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:e}))})}),(0,s.jsx)(p.Z,{children:t.map((e,t)=>(0,s.jsxs)(d.Z,{children:[(0,s.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:t+1}),(0,s.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},onClick:()=>{handleNavigateCat(e._id)},children:e.shopName}),(0,s.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:e.mobOnShop}),(0,s.jsx)(x.Z,{sx:{cursor:"pointer",display:"flex",justifyContent:"center"},children:S==e._id?(0,s.jsx)(u.Z,{color:"inherit",size:"2.64rem"}):(0,s.jsx)(g.Z,{sx:{p:"0px",all:"unset"},children:(0,s.jsx)(Z.Z,{control:(0,s.jsx)(j.Z,{checked:e.isShopOpen,onChange:t=>{checkBoxHandler(t,e._id)}})})})}),(0,s.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:e.wallet}),(0,s.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(r.Z,{variant:"contained",sx:{bgcolor:"black","&:hover":{bgcolor:"black"},p:"3px 0px",fontSize:"12px",mr:"10px"},onClick:()=>{editShopHandler(e._id)},children:"edit"}),(0,s.jsx)(r.Z,{variant:"contained",sx:{bgcolor:"red","&:hover":{bgcolor:"red"},p:"3px 0px",fontSize:"12px"},onClick:()=>{deleteShopHandler(e._id)},children:"delete"})]})})]},t))})]})})})]}),(0,s.jsx)(v.Z,{customSnack:H,setCustomSnack:N}),(0,s.jsx)(w.Z,{errorSnack:P,setErrorSnack:W})]})}},305:function(e,t,n){"use strict";var s=n(7437),i=n(7292),a=n(9804);n(2265),t.Z=e=>{let{customSnack:t,setCustomSnack:n}=e,handleClose=(e,s)=>{"clickaway"!==s&&n({...t,open:!1})};return(0,s.jsx)(i.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3,onClose:handleClose,children:(0,s.jsx)(a.Z,{onClose:handleClose,severity:"success",sx:{width:"100%"},children:t.message})})}},3474:function(e,t,n){"use strict";var s=n(7437),i=n(7292),a=n(9804);n(2265),t.Z=e=>{let{errorSnack:t,setErrorSnack:n}=e,handleClose=(e,s)=>{"clickaway"!==s&&n({...t,open:!1})};return(0,s.jsx)(i.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3,onClose:handleClose,children:(0,s.jsx)(a.Z,{onClose:handleClose,severity:"error",children:t.message})})}},1608:function(e,t,n){"use strict";var s=n(7437),i=n(3701),a=n(9872),o=n(6988),r=n(8489),c=n(666),l=n(9279),h=n(1898);n(2265),t.Z=e=>{let{tableHead:t}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(i.Z,{container:"true",component:a.Z,children:(0,s.jsxs)(i.Z,{"aria-label":"sticky table",children:[(0,s.jsx)(o.Z,{children:(0,s.jsx)(r.Z,{sx:{backgroundColor:"black"},children:t.map((e,t)=>(0,s.jsx)(c.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:e},t))})}),(0,s.jsx)(l.Z,{children:[,,,,,].fill(1).map((e,n)=>(0,s.jsx)(r.Z,{children:t.map((e,t)=>(0,s.jsx)(c.Z,{align:"center",sx:{cursor:"pointer",p:"2px"},children:(0,s.jsx)(h.Z,{sx:{height:"70px",width:"90%"}})},t))},n))})]})})})}},4346:function(e,t){"use strict";t.Z={src:"/_next/static/media/nodata2.bd7acd98.gif",height:600,width:800,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[7368,6659,3559,8874,1228,6691,725,3221,4674,2987,7271,2971,7864,1744],function(){return e(e.s=9073)}),_N_E=e.O()}]);