(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6135],{7592:function(e,t,s){Promise.resolve().then(s.bind(s,5593))},5593:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return page}});var n=s(7437);s(73);var i=s(8874),l=s(3226),a=s(9245),r=s(3701),o=s(9872),d=s(6988),c=s(8489),x=s(666),h=s(9279),m=s(9050),p=s(9222),g=s(6691),u=s.n(g),j=s(4033),Z=s(2265),f=s(4346),y=s(1608),b=s(4982),C=s(2375),v=s(4081),S=s(657),P=s(4142),w=s(6882),components_AdminEditActiveOrder=e=>{let{editModal:t,setErrorSnack:s,setCustomSnack:r,setEditModal:d,fetchData:c}=e,[x,h]=(0,Z.useState)(!1),[g,u]=(0,Z.useState)([]),handleCollect=e=>{let{name:s,value:n,checked:i}=e.target;"isAvailable"==s||"isPopular"==s?d({...t,data:{...t.data,[s]:i}}):d({...t,data:{...t.data,[s]:n}})},fetchOrderStatus=async()=>{let e=await p.Z.get("/api/orderstatus");u(e.data.resp)},handleEdit=async()=>{h(!0);try{let e=await p.Z.patch("/api/allactiveorder/".concat(t.data._id),t.data);console.log("response",e),"Details Updated Successfully"==e.data.message?(c(),d({...t,open:!1}),r({open:!0,message:e.data.message})):(d({...t,open:!1}),s({open:!0,message:e.data.message})),h(!1)}catch(e){console.log(e.message)}};return(0,Z.useEffect)(()=>{fetchOrderStatus()},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(b.Z,{open:t.open,onClose:()=>{d({...t,open:!1})},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsx)(o.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,textAlign:"center",height:"fit-content",bgcolor:"white"},children:(0,n.jsxs)(i.ZP,{container:!0,children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,sx:{mb:"45px"},children:(0,n.jsx)(l.Z,{align:"center",sx:{bgcolor:"black",color:"white",p:"10px",fontSize:"14px",fontWeight:"700"},children:"Edit Active Order"})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{pr:"7px",display:"flex",alignItems:"center",justifyContent:{lg:"right",m:"right",sm:"center",xs:"center"}},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"Delivery Charge:"})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(C.Z,{sx:{height:"30px"},name:"delChrg",value:t.data.delChrg,fullWidth:!0,onChange:handleCollect})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",pr:"7px",display:"flex",alignItems:"center",justifyContent:{lg:"right",m:"right",sm:"center",xs:"center"}},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"Discount:"})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,n.jsx)(C.Z,{sx:{height:"30px"},type:"number",name:"dis",value:t.data.dis,fullWidth:!0,onChange:handleCollect})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:{lg:"right",m:"right",sm:"center",xs:"center"}},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"Sub Total: "})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,n.jsx)(C.Z,{type:"number",sx:{height:"30px",width:"100%"},name:"subTotal",value:t.data.subTotal,onChange:handleCollect})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:{lg:"right",m:"right",sm:"center",xs:"center"}},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"Tax: "})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,n.jsx)(C.Z,{type:"number",sx:{height:"30px",width:"100%"},name:"tax",value:t.data.tax,onChange:handleCollect})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:{lg:"right",m:"right",sm:"center",xs:"center"}},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"To Pay: "})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,n.jsx)(C.Z,{type:"number",sx:{height:"30px",width:"100%"},name:"toPay",value:t.data.toPay,onChange:handleCollect})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:{lg:"right",m:"right",sm:"center",xs:"center"}},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"Order Status: "})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"15px",display:"flex",alignItems:"center"},children:(0,n.jsx)(v.Z,{sx:{m:1,minWidth:200},size:"small",children:(0,n.jsx)(S.Z,{labelId:"demo-select-small-label",id:"demo-select-small",name:"orderStatus",value:t.data.orderStatus,onChange:handleCollect,children:g.map((e,t)=>(0,n.jsx)(P.Z,{value:e,children:e},t))})})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(l.Z,{sx:{fontSize:"14px"},children:"Image:"})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{mt:"10px",display:"flex",alignItems:"center"},children:(0,n.jsx)(a.Z,{sx:{height:"30px",width:"100%"},children:(0,n.jsxs)(l.Z,{align:"center",sx:{position:"relative",top:"0px",mt:"4px",border:"1px solid gray"},children:[(0,n.jsx)("input",{type:"file",disabled:!0,style:{zIndex:99,opacity:0,position:"absolute",left:"0px",top:"0px",height:"30px",width:"100%"}}),"Choose Image"]})})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:!0==x?(0,n.jsx)(w.Z,{size:"1.7rem",color:"inherit"}):(0,n.jsx)(m.Z,{variant:"contained",sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"}},onClick:handleEdit,children:"Edit Product"})})]})})})})},k=s(3474),I=s(305),page=()=>{let e=(0,j.useRouter)();(0,j.useParams)();let[t,s]=(0,Z.useState)([]),[g,b]=(0,Z.useState)({open:!1,data:{}}),[C,v]=(0,Z.useState)(!1),[S,P]=(0,Z.useState)({open:!1,message:""}),[w,z]=(0,Z.useState)({open:!1,message:""}),A=["S.N","Receiver Name"," Order Status","To Pay","Payment Method","Address","Action"],handleNavigateDetails=t=>{e.push("/admin/orderdetails/".concat(t))},fetchData=async()=>{try{let e=await p.Z.get("/api/allactiveorder");"Fetched Successfully"==e.data.message&&s(e.data.resp),"No Data Found"==e.data.message&&v(!0)}catch(e){console.log(e)}},handleDeleteOrder=()=>{console.log("all deleted")},handleEditdetails=async e=>{b({open:!0,data:e})};return(0,Z.useEffect)(()=>{fetchData()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.ZP,{container:!0,sx:{height:"80px",bgcolor:"black",alignItems:"center",width:"100%"},children:(0,n.jsx)(i.ZP,{item:!0,xs:4,children:(0,n.jsx)(l.Z,{sx:{fontSize:"30px",fontWeight:"900",color:"white"},children:"Admin DashBoard"})})}),(0,n.jsxs)(i.ZP,{container:!0,sx:{},children:[(0,n.jsx)(i.ZP,{item:!0,xs:12,children:(0,n.jsx)(a.Z,{sx:{p:"15px",bgcolor:"#e0e0e0"},children:(0,n.jsx)(l.Z,{align:"center",sx:{fontSize:"25px",fontWeight:"900",color:"black",cursor:"pointer"},children:"All Active Order"})})}),(0,n.jsx)(i.ZP,{item:!0,xs:12,children:C?(0,n.jsx)(i.ZP,{container:!0,sx:{},children:(0,n.jsxs)(i.ZP,{item:!0,xs:12,sx:{height:"60vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,n.jsx)(a.Z,{sx:{position:"relative",height:"200px",width:"200px"},children:(0,n.jsx)(u(),{src:f.Z,alt:"no data",style:{height:"100%",width:"100%",position:"absolute"}})}),(0,n.jsx)(l.Z,{sx:{fontSize:"20px",fontWeight:"800",color:"#bdbdbd"},children:"No Data Found"})]})}):0==t.length?(0,n.jsx)(y.Z,{tableHead:A}):(0,n.jsx)(r.Z,{container:"true",component:o.Z,children:(0,n.jsxs)(r.Z,{"aria-label":"sticky table",children:[(0,n.jsx)(d.Z,{children:(0,n.jsx)(c.Z,{sx:{backgroundColor:"black"},children:A.map((e,t)=>(0,n.jsx)(x.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:e},t))})}),(0,n.jsx)(h.Z,{children:t.map((e,t)=>(0,n.jsxs)(c.Z,{children:[(0,n.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:t+1}),(0,n.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},onClick:()=>{handleNavigateDetails(e._id)},children:e.delAddress.receiverName}),(0,n.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:e.orderStatus}),(0,n.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:e.toPay}),(0,n.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:e.paymentMethod}),(0,n.jsxs)(x.Z,{align:"center",sx:{cursor:"pointer",textTransform:"capitalize"},children:[e.delAddress.address," , ",e.delAddress.landMark," , ",e.delAddress.state," , ",e.delAddress.pinCode]}),(0,n.jsx)(x.Z,{align:"center",sx:{cursor:"pointer"},children:(0,n.jsxs)(a.Z,{children:[(0,n.jsx)(m.Z,{variant:"contained",sx:{bgcolor:"black","&:hover":{bgcolor:"black"},p:"3px 0px",fontSize:"12px",mr:"10px"},onClick:()=>{handleEditdetails(e)},children:"edit"}),(0,n.jsx)(m.Z,{variant:"contained",sx:{bgcolor:"red","&:hover":{bgcolor:"red"},p:"3px 0px",fontSize:"12px"},onClick:()=>{handleDeleteOrder(e._id)},children:"delete"})]})})]},t))})]})})})]}),(0,n.jsx)(I.Z,{customSnack:S,setCustomSnack:P}),(0,n.jsx)(k.Z,{errorSnack:w,setErrorSnack:z}),(0,n.jsx)(components_AdminEditActiveOrder,{setCustomSnack:P,setErrorSnack:z,editModal:g,setEditModal:b,fetchData:fetchData})]})}},73:function(e,t,s){"use strict";var n=s(7437),i=s(4982),l=s(9872),a=s(8874),r=s(3226),o=s(2375),d=s(9245),c=s(9050),x=s(9222),h=s(2265);t.Z=e=>{let{open:t,setOpen:s,mid:m,fetchData:p,setCustomSnack:g,setErrorSnack:u}=e,[j,Z]=(0,h.useState)({catName:"",mid:m,image:""}),handleCollectData=e=>{let{name:t,value:s,files:n}=e.target;"image"==t?Z({...j,[t]:n[0]}):Z({...j,[t]:s})},handleAddCategory=async()=>{if(j.catName&&j.image)try{let e=new FormData;e.append("catName",j.catName),e.append("image",j.image),e.append("mid",j.mid);let t=await x.Z.post("/api/category",e);"Category Created Successfully"==t.data.message?(p(),g({open:!0,message:t.data.message}),Z({...j,catName:"",image:""})):u({open:!0,message:t.data.message})}catch(e){console.log(e)}else u({open:!0,message:"please fill the all details"});s(!1)};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{open:t,onClose:()=>{s(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,n.jsx)(l.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"white",p:4,textAlign:"center",height:250,bgcolor:"white"},children:(0,n.jsxs)(a.ZP,{container:!0,children:[(0,n.jsx)(a.ZP,{item:!0,xs:12,sx:{mb:"45px"},children:(0,n.jsx)(r.Z,{align:"center",sx:{bgcolor:"black",color:"white",p:"10px",fontSize:"14px",fontWeight:"700"},children:" Add New"})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{pr:"7px",display:"flex",alignItems:"center",justifyContent:"right"},children:(0,n.jsx)(r.Z,{sx:{fontSize:"14px"},children:"Category Name:"})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(o.Z,{sx:{height:"30px"},name:"catName",value:j.catName,fullWidth:!0,onChange:e=>{handleCollectData(e)}})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:3,lg:3,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(r.Z,{sx:{fontSize:"17px"},children:"Image:"})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sm:12,md:9,lg:9,sx:{display:"flex",alignItems:"center"},children:(0,n.jsx)(d.Z,{sx:{height:"30px",width:"100%"},children:(0,n.jsxs)(r.Z,{align:"center",sx:{position:"relative",top:"0px",mt:"4px",border:"1px solid gray"},children:[(0,n.jsx)("input",{type:"file",name:"image",value:j.img,style:{zIndex:99,opacity:0,position:"absolute",left:"0px",top:"0px",height:"30px",width:"100%"},onChange:e=>{handleCollectData(e)}}),"Choose Image"]})})}),(0,n.jsx)(a.ZP,{item:!0,xs:12,sx:{mt:"15px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(c.Z,{variant:"contained",sx:{bgcolor:"black",color:"white","&:hover":{bgcolor:"black"}},onClick:handleAddCategory,children:"create Category"})})]})})})})}},305:function(e,t,s){"use strict";var n=s(7437),i=s(7292),l=s(9804);s(2265),t.Z=e=>{let{customSnack:t,setCustomSnack:s}=e,handleClose=(e,n)=>{"clickaway"!==n&&s({...t,open:!1})};return(0,n.jsx)(i.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"left"},autoHideDuration:2e3,onClose:handleClose,children:(0,n.jsx)(l.Z,{onClose:handleClose,severity:"success",sx:{width:"100%"},children:t.message})})}},3474:function(e,t,s){"use strict";var n=s(7437),i=s(7292),l=s(9804);s(2265),t.Z=e=>{let{errorSnack:t,setErrorSnack:s}=e,handleClose=(e,n)=>{"clickaway"!==n&&s({...t,open:!1})};return(0,n.jsx)(i.Z,{open:t.open,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2e3,onClose:handleClose,children:(0,n.jsx)(l.Z,{onClose:handleClose,severity:"error",children:t.message})})}},1608:function(e,t,s){"use strict";var n=s(7437),i=s(3701),l=s(9872),a=s(6988),r=s(8489),o=s(666),d=s(9279),c=s(1898);s(2265),t.Z=e=>{let{tableHead:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{container:"true",component:l.Z,children:(0,n.jsxs)(i.Z,{"aria-label":"sticky table",children:[(0,n.jsx)(a.Z,{children:(0,n.jsx)(r.Z,{sx:{backgroundColor:"black"},children:t.map((e,t)=>(0,n.jsx)(o.Z,{align:"center",sx:{color:"white",fontSize:"16px",fontWeight:"900",cursor:"pointer"},children:e},t))})}),(0,n.jsx)(d.Z,{children:[,,,,,].fill(1).map((e,s)=>(0,n.jsx)(r.Z,{children:t.map((e,t)=>(0,n.jsx)(o.Z,{align:"center",sx:{cursor:"pointer",p:"2px"},children:(0,n.jsx)(c.Z,{sx:{height:"70px",width:"90%"}})},t))},s))})]})})})}},4346:function(e,t){"use strict";t.Z={src:"/_next/static/media/nodata2.bd7acd98.gif",height:600,width:800,blurWidth:0,blurHeight:0}}},function(e){e.O(0,[7368,6659,3559,8874,1228,6691,725,877,4532,657,3221,4674,5288,2971,7864,1744],function(){return e(e.s=7592)}),_N_E=e.O()}]);